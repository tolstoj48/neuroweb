<% layout("layouts/index") %>
  <div class="row justify-content-center">
    <div class="col-12 col-sm-8 col-md-6">
      <form class="mt-3 needs-validation" novalidate action="/tasks/edit/<%= task._id %>?_method=PATCH" method="POST">
        <fieldset>
          <legend>Edit an existing task</legend>
          <div class="form-group">
            <label for="date" class="form-label mt-4">Date:</label>
            <input type="date" class="form-control" id="date" name="date" value="<%= task.date %>">
          </div>
          <div class="form-group">
            <label for="to-do-task" class="form-label mt-3">To do task:</label>
            <textarea class="form-control" id="to-do-task" name="to_do_task"
              placeholder="The description of the task..." rows="3" maxlength="1500"> <%= task.to_do_task %> </textarea>
          </div>
          <div class="form-group">
            <label for="who-wants-it" class="form-label mt-3">Who wants it:</label>
            <input class="form-control" id="who-wants-it" name="who_wants_it" placeholder="Your name..." maxlength="50"
              value="<%= task.who_wants_it %>">
          </div>
          <div class="form-group">
            <label for="done" class="form-label mt-3">Done:</label>
            <select class="form-select" id="done" name="done" value="<%= task.done %>">
              <option value="false" <%=task.done=="false" ? 'selected' : 'not-selected' %>>false</option>
              <option value="true" <%=task.done=="true" ? 'selected' : 'not-selected' %>>true</option>
              <option value="in process" <%=task.done=="in process" ? 'selected' : 'not-selected' %>>in process</option>
            </select>
          </div>
        </fieldset>
        <div class="row justify-content-center">
          <a id="backBtn" class="btn btn-lg btn-outline-warning strong mt-3 mb-3 me-4 col-5" href="/">Back without
            changes</a>
          <button id="submitBtn" class="btn btn-lg btn-outline-success strong mt-3 mb-3 col-5">Save the changes</button>
        </div>
      </form>
    </div>
  </div>