<% layout("layouts/index") %>
  <h1 class="mt-2">To do list</h1>
  <a href="/tasks/new-task" class="btn btn-lg btn-outline-primary strong mt-3">+ Create a new task</a>
  <table class="table table-hover mt-3" id="to-do-list">
    <thead>
      <tr>
        <th scope="col">Date</th>
        <th scope="col">To do task</th>
        <th scope="col">Who wants it</th>
        <th scope="col">Done</th>
        <th scope="col"></th>
      </tr>
    </thead>
    <tbody>
      <% for (let task of data) { %>
        <tr>
          <td>
            <%= task.date %>
          </td>
          <td>
            <%= task.to_do_task %>
          </td>
          <td>
            <%= task.who_wants_it %>
          </td>
          <td>
            <% if (task.done == "true") { %>
              <i class="me-3 text-success" data-feather="check"></i>
            <% } else if (task.done == "false") { %> 
              <i class="me-3 text-danger" data-feather="x"></i>
              <% } else { %>
                <i class="me-3 text-warning" data-feather="truck"></i>
            <% } %>
          </td>
          <td>
            <a class="edit" href="/tasks/edit/<%= task._id %>"><i class="me-3 text-primary" data-feather="edit"></i></a>
            <a class="delete" href="/tasks/delete/<%= task._id %>"><i class="text-danger" data-feather="trash-2"></i></a>
          </td>
        </tr>
        <% } %>
    </tbody>
  </table>